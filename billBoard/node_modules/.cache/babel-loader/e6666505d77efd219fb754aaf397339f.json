{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Rating from '@mui/material/Rating';\nimport { useGridApiContext } from '@mui/x-data-grid-premium';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n\nfunction EditRating(props) {\n  const {\n    id,\n    value,\n    field\n  } = props;\n  const apiRef = useGridApiContext();\n  const changedThroughKeyboard = React.useRef(false);\n\n  const handleChange = async event => {\n    await apiRef.current.setEditCellValue({\n      id,\n      field,\n      value: Number(event.target.value)\n    }, event);\n\n    if (!changedThroughKeyboard.current) {\n      apiRef.current.stopCellEditMode({\n        id,\n        field\n      });\n    }\n\n    changedThroughKeyboard.current = false;\n  };\n\n  const handleRef = element => {\n    if (element) {\n      if (value !== 0) {\n        element.querySelector(`input[value=\"${value}\"]`).focus();\n      } else {\n        element.querySelector('input[value=\"\"]').focus();\n      }\n    }\n  };\n\n  const handleKeyDown = event => {\n    if (event.key.startsWith('Arrow')) {\n      changedThroughKeyboard.current = true;\n    } else {\n      changedThroughKeyboard.current = false;\n    }\n  };\n\n  return /*#__PURE__*/_jsxs(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      lineHeight: '24px',\n      color: 'text.secondary',\n      mr: 1\n    },\n    children: [/*#__PURE__*/_jsx(Rating, {\n      ref: handleRef,\n      name: \"rating\",\n      value: Number(value),\n      precision: 1,\n      onChange: handleChange,\n      sx: {\n        mr: 1\n      },\n      onKeyDown: handleKeyDown\n    }), Number(value)]\n  });\n}\n\nexport function renderEditRating(params) {\n  return /*#__PURE__*/_jsx(EditRating, _extends({}, params));\n}","map":{"version":3,"names":["_extends","React","Box","Rating","useGridApiContext","jsx","_jsx","jsxs","_jsxs","EditRating","props","id","value","field","apiRef","changedThroughKeyboard","useRef","handleChange","event","current","setEditCellValue","Number","target","stopCellEditMode","handleRef","element","querySelector","focus","handleKeyDown","key","startsWith","sx","display","alignItems","lineHeight","color","mr","children","ref","name","precision","onChange","onKeyDown","renderEditRating","params"],"sources":["C:/Users/kb/node_modules/@mui/x-data-grid-generator/renderer/renderEditRating.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Rating from '@mui/material/Rating';\nimport { useGridApiContext } from '@mui/x-data-grid-premium';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction EditRating(props) {\n  const {\n    id,\n    value,\n    field\n  } = props;\n  const apiRef = useGridApiContext();\n  const changedThroughKeyboard = React.useRef(false);\n  const handleChange = async event => {\n    await apiRef.current.setEditCellValue({\n      id,\n      field,\n      value: Number(event.target.value)\n    }, event);\n    if (!changedThroughKeyboard.current) {\n      apiRef.current.stopCellEditMode({\n        id,\n        field\n      });\n    }\n    changedThroughKeyboard.current = false;\n  };\n  const handleRef = element => {\n    if (element) {\n      if (value !== 0) {\n        element.querySelector(`input[value=\"${value}\"]`).focus();\n      } else {\n        element.querySelector('input[value=\"\"]').focus();\n      }\n    }\n  };\n  const handleKeyDown = event => {\n    if (event.key.startsWith('Arrow')) {\n      changedThroughKeyboard.current = true;\n    } else {\n      changedThroughKeyboard.current = false;\n    }\n  };\n  return /*#__PURE__*/_jsxs(Box, {\n    sx: {\n      display: 'flex',\n      alignItems: 'center',\n      lineHeight: '24px',\n      color: 'text.secondary',\n      mr: 1\n    },\n    children: [/*#__PURE__*/_jsx(Rating, {\n      ref: handleRef,\n      name: \"rating\",\n      value: Number(value),\n      precision: 1,\n      onChange: handleChange,\n      sx: {\n        mr: 1\n      },\n      onKeyDown: handleKeyDown\n    }), Number(value)]\n  });\n}\nexport function renderEditRating(params) {\n  return /*#__PURE__*/_jsx(EditRating, _extends({}, params));\n}"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,mBAAhB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAASC,iBAAT,QAAkC,0BAAlC;AACA,SAASC,GAAG,IAAIC,IAAhB,EAAsBC,IAAI,IAAIC,KAA9B,QAA2C,mBAA3C;;AACA,SAASC,UAAT,CAAoBC,KAApB,EAA2B;EACzB,MAAM;IACJC,EADI;IAEJC,KAFI;IAGJC;EAHI,IAIFH,KAJJ;EAKA,MAAMI,MAAM,GAAGV,iBAAiB,EAAhC;EACA,MAAMW,sBAAsB,GAAGd,KAAK,CAACe,MAAN,CAAa,KAAb,CAA/B;;EACA,MAAMC,YAAY,GAAG,MAAMC,KAAN,IAAe;IAClC,MAAMJ,MAAM,CAACK,OAAP,CAAeC,gBAAf,CAAgC;MACpCT,EADoC;MAEpCE,KAFoC;MAGpCD,KAAK,EAAES,MAAM,CAACH,KAAK,CAACI,MAAN,CAAaV,KAAd;IAHuB,CAAhC,EAIHM,KAJG,CAAN;;IAKA,IAAI,CAACH,sBAAsB,CAACI,OAA5B,EAAqC;MACnCL,MAAM,CAACK,OAAP,CAAeI,gBAAf,CAAgC;QAC9BZ,EAD8B;QAE9BE;MAF8B,CAAhC;IAID;;IACDE,sBAAsB,CAACI,OAAvB,GAAiC,KAAjC;EACD,CAbD;;EAcA,MAAMK,SAAS,GAAGC,OAAO,IAAI;IAC3B,IAAIA,OAAJ,EAAa;MACX,IAAIb,KAAK,KAAK,CAAd,EAAiB;QACfa,OAAO,CAACC,aAAR,CAAuB,gBAAed,KAAM,IAA5C,EAAiDe,KAAjD;MACD,CAFD,MAEO;QACLF,OAAO,CAACC,aAAR,CAAsB,iBAAtB,EAAyCC,KAAzC;MACD;IACF;EACF,CARD;;EASA,MAAMC,aAAa,GAAGV,KAAK,IAAI;IAC7B,IAAIA,KAAK,CAACW,GAAN,CAAUC,UAAV,CAAqB,OAArB,CAAJ,EAAmC;MACjCf,sBAAsB,CAACI,OAAvB,GAAiC,IAAjC;IACD,CAFD,MAEO;MACLJ,sBAAsB,CAACI,OAAvB,GAAiC,KAAjC;IACD;EACF,CAND;;EAOA,OAAO,aAAaX,KAAK,CAACN,GAAD,EAAM;IAC7B6B,EAAE,EAAE;MACFC,OAAO,EAAE,MADP;MAEFC,UAAU,EAAE,QAFV;MAGFC,UAAU,EAAE,MAHV;MAIFC,KAAK,EAAE,gBAJL;MAKFC,EAAE,EAAE;IALF,CADyB;IAQ7BC,QAAQ,EAAE,CAAC,aAAa/B,IAAI,CAACH,MAAD,EAAS;MACnCmC,GAAG,EAAEd,SAD8B;MAEnCe,IAAI,EAAE,QAF6B;MAGnC3B,KAAK,EAAES,MAAM,CAACT,KAAD,CAHsB;MAInC4B,SAAS,EAAE,CAJwB;MAKnCC,QAAQ,EAAExB,YALyB;MAMnCc,EAAE,EAAE;QACFK,EAAE,EAAE;MADF,CAN+B;MASnCM,SAAS,EAAEd;IATwB,CAAT,CAAlB,EAUNP,MAAM,CAACT,KAAD,CAVA;EARmB,CAAN,CAAzB;AAoBD;;AACD,OAAO,SAAS+B,gBAAT,CAA0BC,MAA1B,EAAkC;EACvC,OAAO,aAAatC,IAAI,CAACG,UAAD,EAAaT,QAAQ,CAAC,EAAD,EAAK4C,MAAL,CAArB,CAAxB;AACD"},"metadata":{},"sourceType":"module"}