{"ast":null,"code":"var _jsxFileName = \"/home/prabhakaran/nk_finance/src/components/SearchCustomer.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { collection, addDoc, deleteDoc, doc, onSnapshot, query } from \"firebase/firestore\";\nimport { db } from '../Firebase';\nimport { input } from '../features/collection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchCustomer = () => {\n  _s();\n\n  const [value, setValue] = useState(\"\");\n  const dispatch = useDispatch();\n  const collectionDetails = useSelector(state => state.collection.value);\n  const q = query(collection(db, 'CustomerDetails'));\n  const [fetchData, setFetchData] = useState([]);\n  const [hideDropdown, setHideDropdown] = useState(false);\n  useEffect(() => {\n    onSnapshot(q, snapshot => {\n      setFetchData(snapshot.docs.map(doc => ({\n        id: doc.id,\n        item: doc.data()\n      })));\n    });\n  }, []);\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n\n  const onSearch = nameVal => {\n    setValue(nameVal); // console.log(\"searchTerm : \", nameVal);\n\n    try {\n      dispatch(input({\n        name: nameVal\n      }));\n      console.log(\"name : \", collectionDetails.name);\n    } catch (err) {\n      console.log(err);\n    }\n\n    setHideDropdown(current => !current);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-inner d-flex justify-content-around align-items-center p-2\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"search-input \",\n          value: value,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        style: {\n          display: hideDropdown ? \"none\" : \"\"\n        },\n        children: fetchData.filter(item => {\n          const searchTerm = value.toLowerCase(); // console.log(searchTerm);\n\n          const Name = item.item.name.toLowerCase(); // console.log(Name);\n          // const line_type = collectionDetails.line.toLowerCase();\n          // console.log(line_type);\n\n          return searchTerm && Name.startsWith(searchTerm) // && line_type===item.item.lineType\n          ;\n        }).slice(0, 10).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: e => {\n            onSearch(item.item.name);\n          },\n          className: \"dropdown-row\",\n          children: item.item.name\n        }, item.item.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 7\n  }, this);\n};\n\n_s(SearchCustomer, \"1QuoFNxNoHF2yIyAnlOT9DQxTfI=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = SearchCustomer;\nexport default SearchCustomer;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchCustomer\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","collection","addDoc","deleteDoc","doc","onSnapshot","query","db","input","SearchCustomer","value","setValue","dispatch","collectionDetails","state","q","fetchData","setFetchData","hideDropdown","setHideDropdown","snapshot","docs","map","id","item","data","handleChange","event","target","onSearch","nameVal","name","console","log","err","current","display","filter","searchTerm","toLowerCase","Name","startsWith","slice","e"],"sources":["/home/prabhakaran/nk_finance/src/components/SearchCustomer.jsx"],"sourcesContent":["import React,{useEffect, useState} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { collection, addDoc, deleteDoc, doc, onSnapshot, query } from \"firebase/firestore\";\r\nimport { db } from '../Firebase'\r\nimport { input } from '../features/collection';\r\n\r\n\r\nconst SearchCustomer = () => {\r\n    \r\n  const [value, setValue] = useState(\"\");\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const collectionDetails = useSelector(state =>state.collection.value)\r\n\r\n    const q = query(collection(db, 'CustomerDetails'));\r\n    \r\n    const [fetchData, setFetchData] = useState([])\r\n\r\n    const [hideDropdown, setHideDropdown] = useState(false)\r\n\r\n    useEffect(() => {\r\n\r\n\r\n      onSnapshot(q, (snapshot) => {\r\n          setFetchData(snapshot.docs.map(doc => ({\r\n              id: doc.id,\r\n              item: doc.data()\r\n          })))\r\n      })\r\n\r\n  }, [])\r\n\r\n\r\n    const handleChange = (event) => {\r\n      setValue(event.target.value);\r\n    };\r\n  \r\n    const onSearch = (nameVal) => {\r\n      setValue(nameVal);\r\n      // console.log(\"searchTerm : \", nameVal);\r\n\r\n    try{\r\n\r\n      dispatch(input({\r\n        name: nameVal\r\n    }))\r\n    console.log(\"name : \",collectionDetails.name);\r\n      \r\n    }\r\n    catch(err) {\r\n      console.log(err);\r\n    }\r\n    setHideDropdown(current => !current)\r\n\r\n    };\r\n  \r\n    return (\r\n      <div className=\"App\">\r\n  \r\n        <div className=\"search-container\">\r\n          <div className=\"search-inner d-flex justify-content-around align-items-center p-2\">\r\n            <input type=\"text\" className='search-input ' value={value} onChange={handleChange} />\r\n            {/* <button className='btn btn-success btn-sm ms-2' onClick={() => onSearch(value)}> Search </button> */}\r\n          </div>\r\n          <div className=\"dropdown\" style={{display : hideDropdown ? \"none\":\"\"}}>\r\n            {fetchData\r\n              .filter((item) => {\r\n                const searchTerm = value.toLowerCase();\r\n                // console.log(searchTerm);\r\n                const Name = item.item.name.toLowerCase();\r\n                // console.log(Name);\r\n           \r\n                // const line_type = collectionDetails.line.toLowerCase();\r\n                // console.log(line_type);\r\n  \r\n                return (\r\n                  searchTerm &&\r\n                  Name.startsWith(searchTerm) \r\n                  // && line_type===item.item.lineType\r\n         \r\n                );\r\n              })\r\n              .slice(0, 10)\r\n              .map((item) => (\r\n                <div\r\n                  onClick={(e)=>{\r\n                     onSearch(item.item.name)}\r\n                }\r\n                  className=\"dropdown-row\"\r\n                  key={item.item.name}\r\n                >\r\n                  {item.item.name}\r\n                </div>\r\n              ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default SearchCustomer"],"mappings":"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"},"metadata":{},"sourceType":"module"}