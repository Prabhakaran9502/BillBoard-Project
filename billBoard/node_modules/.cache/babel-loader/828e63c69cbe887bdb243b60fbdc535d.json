{"ast":null,"code":"'use client';\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useImperativeHandle, useState } from 'react';\nimport clsx from 'clsx';\nimport Navigation from './Calendar/Navigation.js';\nimport CenturyView from './CenturyView.js';\nimport DecadeView from './DecadeView.js';\nimport YearView from './YearView.js';\nimport MonthView from './MonthView.js';\nimport { getBegin, getBeginNext, getEnd, getValueRange } from './shared/dates.js';\nimport { between } from './shared/utils.js';\nvar baseClassName = 'react-calendar';\nvar allViews = ['century', 'decade', 'year', 'month'];\nvar allValueTypes = ['decade', 'year', 'month', 'day'];\nvar defaultMinDate = new Date();\ndefaultMinDate.setFullYear(1, 0, 1);\ndefaultMinDate.setHours(0, 0, 0, 0);\nvar defaultMaxDate = new Date(8.64e15);\n\nfunction toDate(value) {\n  if (value instanceof Date) {\n    return value;\n  }\n\n  return new Date(value);\n}\n/**\n * Returns views array with disallowed values cut off.\n */\n\n\nfunction getLimitedViews(minDetail, maxDetail) {\n  return allViews.slice(allViews.indexOf(minDetail), allViews.indexOf(maxDetail) + 1);\n}\n/**\n * Determines whether a given view is allowed with currently applied settings.\n */\n\n\nfunction isViewAllowed(view, minDetail, maxDetail) {\n  var views = getLimitedViews(minDetail, maxDetail);\n  return views.indexOf(view) !== -1;\n}\n/**\n * Gets either provided view if allowed by minDetail and maxDetail, or gets\n * the default view if not allowed.\n */\n\n\nfunction getView(view, minDetail, maxDetail) {\n  if (!view) {\n    return maxDetail;\n  }\n\n  if (isViewAllowed(view, minDetail, maxDetail)) {\n    return view;\n  }\n\n  return maxDetail;\n}\n/**\n * Returns value type that can be returned with currently applied settings.\n */\n\n\nfunction getValueType(view) {\n  var index = allViews.indexOf(view);\n  return allValueTypes[index];\n}\n\nfunction getValue(value, index) {\n  var rawValue = Array.isArray(value) ? value[index] : value;\n\n  if (!rawValue) {\n    return null;\n  }\n\n  var valueDate = toDate(rawValue);\n\n  if (isNaN(valueDate.getTime())) {\n    throw new Error(\"Invalid date: \".concat(value));\n  }\n\n  return valueDate;\n}\n\nfunction getDetailValue(_a, index) {\n  var value = _a.value,\n      minDate = _a.minDate,\n      maxDate = _a.maxDate,\n      maxDetail = _a.maxDetail;\n  var valuePiece = getValue(value, index);\n\n  if (!valuePiece) {\n    return null;\n  }\n\n  var valueType = getValueType(maxDetail);\n\n  var detailValueFrom = function () {\n    switch (index) {\n      case 0:\n        return getBegin(valueType, valuePiece);\n\n      case 1:\n        return getEnd(valueType, valuePiece);\n\n      default:\n        throw new Error(\"Invalid index value: \".concat(index));\n    }\n  }();\n\n  return between(detailValueFrom, minDate, maxDate);\n}\n\nvar getDetailValueFrom = function (args) {\n  return getDetailValue(args, 0);\n};\n\nvar getDetailValueTo = function (args) {\n  return getDetailValue(args, 1);\n};\n\nvar getDetailValueArray = function (args) {\n  return [getDetailValueFrom, getDetailValueTo].map(function (fn) {\n    return fn(args);\n  });\n};\n\nfunction getActiveStartDate(_a) {\n  var maxDate = _a.maxDate,\n      maxDetail = _a.maxDetail,\n      minDate = _a.minDate,\n      minDetail = _a.minDetail,\n      value = _a.value,\n      view = _a.view;\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = getDetailValueFrom({\n    value: value,\n    minDate: minDate,\n    maxDate: maxDate,\n    maxDetail: maxDetail\n  }) || new Date();\n  return getBegin(rangeType, valueFrom);\n}\n\nfunction getInitialActiveStartDate(_a) {\n  var activeStartDate = _a.activeStartDate,\n      defaultActiveStartDate = _a.defaultActiveStartDate,\n      defaultValue = _a.defaultValue,\n      defaultView = _a.defaultView,\n      maxDate = _a.maxDate,\n      maxDetail = _a.maxDetail,\n      minDate = _a.minDate,\n      minDetail = _a.minDetail,\n      value = _a.value,\n      view = _a.view;\n  var rangeType = getView(view, minDetail, maxDetail);\n  var valueFrom = activeStartDate || defaultActiveStartDate;\n\n  if (valueFrom) {\n    return getBegin(rangeType, valueFrom);\n  }\n\n  return getActiveStartDate({\n    maxDate: maxDate,\n    maxDetail: maxDetail,\n    minDate: minDate,\n    minDetail: minDetail,\n    value: value || defaultValue,\n    view: view || defaultView\n  });\n}\n\nfunction getIsSingleValue(value) {\n  return value && (!Array.isArray(value) || value.length === 1);\n}\n\nfunction areDatesEqual(date1, date2) {\n  return date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();\n}\n\nvar Calendar = forwardRef(function Calendar(props, ref) {\n  var activeStartDateProps = props.activeStartDate,\n      allowPartialRange = props.allowPartialRange,\n      calendarType = props.calendarType,\n      className = props.className,\n      defaultActiveStartDate = props.defaultActiveStartDate,\n      defaultValue = props.defaultValue,\n      defaultView = props.defaultView,\n      formatDay = props.formatDay,\n      formatLongDate = props.formatLongDate,\n      formatMonth = props.formatMonth,\n      formatMonthYear = props.formatMonthYear,\n      formatShortWeekday = props.formatShortWeekday,\n      formatWeekday = props.formatWeekday,\n      formatYear = props.formatYear,\n      _a = props.goToRangeStartOnSelect,\n      goToRangeStartOnSelect = _a === void 0 ? true : _a,\n      inputRef = props.inputRef,\n      locale = props.locale,\n      _b = props.maxDate,\n      maxDate = _b === void 0 ? defaultMaxDate : _b,\n      _c = props.maxDetail,\n      maxDetail = _c === void 0 ? 'month' : _c,\n      _d = props.minDate,\n      minDate = _d === void 0 ? defaultMinDate : _d,\n      _e = props.minDetail,\n      minDetail = _e === void 0 ? 'century' : _e,\n      navigationAriaLabel = props.navigationAriaLabel,\n      navigationAriaLive = props.navigationAriaLive,\n      navigationLabel = props.navigationLabel,\n      next2AriaLabel = props.next2AriaLabel,\n      next2Label = props.next2Label,\n      nextAriaLabel = props.nextAriaLabel,\n      nextLabel = props.nextLabel,\n      onActiveStartDateChange = props.onActiveStartDateChange,\n      onChangeProps = props.onChange,\n      onClickDay = props.onClickDay,\n      onClickDecade = props.onClickDecade,\n      onClickMonth = props.onClickMonth,\n      onClickWeekNumber = props.onClickWeekNumber,\n      onClickYear = props.onClickYear,\n      onDrillDown = props.onDrillDown,\n      onDrillUp = props.onDrillUp,\n      onViewChange = props.onViewChange,\n      prev2AriaLabel = props.prev2AriaLabel,\n      prev2Label = props.prev2Label,\n      prevAriaLabel = props.prevAriaLabel,\n      prevLabel = props.prevLabel,\n      _f = props.returnValue,\n      returnValue = _f === void 0 ? 'start' : _f,\n      selectRange = props.selectRange,\n      showDoubleView = props.showDoubleView,\n      showFixedNumberOfWeeks = props.showFixedNumberOfWeeks,\n      _g = props.showNavigation,\n      showNavigation = _g === void 0 ? true : _g,\n      showNeighboringCentury = props.showNeighboringCentury,\n      showNeighboringDecade = props.showNeighboringDecade,\n      _h = props.showNeighboringMonth,\n      showNeighboringMonth = _h === void 0 ? true : _h,\n      showWeekNumbers = props.showWeekNumbers,\n      tileClassName = props.tileClassName,\n      tileContent = props.tileContent,\n      tileDisabled = props.tileDisabled,\n      valueProps = props.value,\n      viewProps = props.view;\n\n  var _j = useState(defaultActiveStartDate),\n      activeStartDateState = _j[0],\n      setActiveStartDateState = _j[1];\n\n  var _k = useState(null),\n      hoverState = _k[0],\n      setHoverState = _k[1];\n\n  var _l = useState(Array.isArray(defaultValue) ? defaultValue.map(function (el) {\n    return el !== null ? toDate(el) : null;\n  }) : defaultValue !== null && defaultValue !== undefined ? toDate(defaultValue) : null),\n      valueState = _l[0],\n      setValueState = _l[1];\n\n  var _m = useState(defaultView),\n      viewState = _m[0],\n      setViewState = _m[1];\n\n  var activeStartDate = activeStartDateProps || activeStartDateState || getInitialActiveStartDate({\n    activeStartDate: activeStartDateProps,\n    defaultActiveStartDate: defaultActiveStartDate,\n    defaultValue: defaultValue,\n    defaultView: defaultView,\n    maxDate: maxDate,\n    maxDetail: maxDetail,\n    minDate: minDate,\n    minDetail: minDetail,\n    value: valueProps,\n    view: viewProps\n  });\n\n  var value = function () {\n    var rawValue = function () {\n      // In the middle of range selection, use value from state\n      if (selectRange && getIsSingleValue(valueState)) {\n        return valueState;\n      }\n\n      return valueProps !== undefined ? valueProps : valueState;\n    }();\n\n    if (!rawValue) {\n      return null;\n    }\n\n    return Array.isArray(rawValue) ? rawValue.map(function (el) {\n      return el !== null ? toDate(el) : null;\n    }) : rawValue !== null ? toDate(rawValue) : null;\n  }();\n\n  var valueType = getValueType(maxDetail);\n  var view = getView(viewProps || viewState, minDetail, maxDetail);\n  var views = getLimitedViews(minDetail, maxDetail);\n  var hover = selectRange ? hoverState : null;\n  var drillDownAvailable = views.indexOf(view) < views.length - 1;\n  var drillUpAvailable = views.indexOf(view) > 0;\n  var getProcessedValue = useCallback(function (value) {\n    var processFunction = function () {\n      switch (returnValue) {\n        case 'start':\n          return getDetailValueFrom;\n\n        case 'end':\n          return getDetailValueTo;\n\n        case 'range':\n          return getDetailValueArray;\n\n        default:\n          throw new Error('Invalid returnValue.');\n      }\n    }();\n\n    return processFunction({\n      maxDate: maxDate,\n      maxDetail: maxDetail,\n      minDate: minDate,\n      value: value\n    });\n  }, [maxDate, maxDetail, minDate, returnValue]);\n  var setActiveStartDate = useCallback(function (nextActiveStartDate, action) {\n    setActiveStartDateState(nextActiveStartDate);\n    var args = {\n      action: action,\n      activeStartDate: nextActiveStartDate,\n      value: value,\n      view: view\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n  }, [activeStartDate, onActiveStartDateChange, value, view]);\n  var onClickTile = useCallback(function (value, event) {\n    var callback = function () {\n      switch (view) {\n        case 'century':\n          return onClickDecade;\n\n        case 'decade':\n          return onClickYear;\n\n        case 'year':\n          return onClickMonth;\n\n        case 'month':\n          return onClickDay;\n\n        default:\n          throw new Error(\"Invalid view: \".concat(view, \".\"));\n      }\n    }();\n\n    if (callback) callback(value, event);\n  }, [onClickDay, onClickDecade, onClickMonth, onClickYear, view]);\n  var drillDown = useCallback(function (nextActiveStartDate, event) {\n    if (!drillDownAvailable) {\n      return;\n    }\n\n    onClickTile(nextActiveStartDate, event);\n    var nextView = views[views.indexOf(view) + 1];\n\n    if (!nextView) {\n      throw new Error('Attempted to drill down from the lowest view.');\n    }\n\n    setActiveStartDateState(nextActiveStartDate);\n    setViewState(nextView);\n    var args = {\n      action: 'drillDown',\n      activeStartDate: nextActiveStartDate,\n      value: value,\n      view: nextView\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n\n    if (onViewChange && view !== nextView) {\n      onViewChange(args);\n    }\n\n    if (onDrillDown) {\n      onDrillDown(args);\n    }\n  }, [activeStartDate, drillDownAvailable, onActiveStartDateChange, onClickTile, onDrillDown, onViewChange, value, view, views]);\n  var drillUp = useCallback(function () {\n    if (!drillUpAvailable) {\n      return;\n    }\n\n    var nextView = views[views.indexOf(view) - 1];\n\n    if (!nextView) {\n      throw new Error('Attempted to drill up from the highest view.');\n    }\n\n    var nextActiveStartDate = getBegin(nextView, activeStartDate);\n    setActiveStartDateState(nextActiveStartDate);\n    setViewState(nextView);\n    var args = {\n      action: 'drillUp',\n      activeStartDate: nextActiveStartDate,\n      value: value,\n      view: nextView\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n\n    if (onViewChange && view !== nextView) {\n      onViewChange(args);\n    }\n\n    if (onDrillUp) {\n      onDrillUp(args);\n    }\n  }, [activeStartDate, drillUpAvailable, onActiveStartDateChange, onDrillUp, onViewChange, value, view, views]);\n  var onChange = useCallback(function (rawNextValue, event) {\n    var previousValue = value;\n    onClickTile(rawNextValue, event);\n    var isFirstValueInRange = selectRange && !getIsSingleValue(previousValue);\n    var nextValue;\n\n    if (selectRange) {\n      // Range selection turned on\n      if (isFirstValueInRange) {\n        // Value has 0 or 2 elements - either way we're starting a new array\n        // First value\n        nextValue = getBegin(valueType, rawNextValue);\n      } else {\n        if (!previousValue) {\n          throw new Error('previousValue is required');\n        }\n\n        if (Array.isArray(previousValue)) {\n          throw new Error('previousValue must not be an array');\n        } // Second value\n\n\n        nextValue = getValueRange(valueType, previousValue, rawNextValue);\n      }\n    } else {\n      // Range selection turned off\n      nextValue = getProcessedValue(rawNextValue);\n    }\n\n    var nextActiveStartDate = // Range selection turned off\n    !selectRange || // Range selection turned on, first value\n    isFirstValueInRange || // Range selection turned on, second value, goToRangeStartOnSelect toggled on\n    goToRangeStartOnSelect ? getActiveStartDate({\n      maxDate: maxDate,\n      maxDetail: maxDetail,\n      minDate: minDate,\n      minDetail: minDetail,\n      value: nextValue,\n      view: view\n    }) : null;\n    event.persist();\n    setActiveStartDateState(nextActiveStartDate);\n    setValueState(nextValue);\n    var args = {\n      action: 'onChange',\n      activeStartDate: nextActiveStartDate,\n      value: nextValue,\n      view: view\n    };\n\n    if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n      onActiveStartDateChange(args);\n    }\n\n    if (onChangeProps) {\n      if (selectRange) {\n        var isSingleValue = getIsSingleValue(nextValue);\n\n        if (!isSingleValue) {\n          onChangeProps(nextValue || null, event);\n        } else if (allowPartialRange) {\n          if (Array.isArray(nextValue)) {\n            throw new Error('value must not be an array');\n          }\n\n          onChangeProps([nextValue || null, null], event);\n        }\n      } else {\n        onChangeProps(nextValue || null, event);\n      }\n    }\n  }, [activeStartDate, allowPartialRange, getProcessedValue, goToRangeStartOnSelect, maxDate, maxDetail, minDate, minDetail, onActiveStartDateChange, onChangeProps, onClickTile, selectRange, value, valueType, view]);\n\n  function onMouseOver(nextHover) {\n    setHoverState(nextHover);\n  }\n\n  function onMouseLeave() {\n    setHoverState(null);\n  }\n\n  useImperativeHandle(ref, function () {\n    return {\n      activeStartDate: activeStartDate,\n      drillDown: drillDown,\n      drillUp: drillUp,\n      onChange: onChange,\n      setActiveStartDate: setActiveStartDate,\n      value: value,\n      view: view\n    };\n  }, [activeStartDate, drillDown, drillUp, onChange, setActiveStartDate, value, view]);\n\n  function renderContent(next) {\n    var currentActiveStartDate = next ? getBeginNext(view, activeStartDate) : getBegin(view, activeStartDate);\n    var onClick = drillDownAvailable ? drillDown : onChange;\n    var commonProps = {\n      activeStartDate: currentActiveStartDate,\n      hover: hover,\n      locale: locale,\n      maxDate: maxDate,\n      minDate: minDate,\n      onClick: onClick,\n      onMouseOver: selectRange ? onMouseOver : undefined,\n      tileClassName: tileClassName,\n      tileContent: tileContent,\n      tileDisabled: tileDisabled,\n      value: value,\n      valueType: valueType\n    };\n\n    switch (view) {\n      case 'century':\n        {\n          return _jsx(CenturyView, __assign({\n            formatYear: formatYear,\n            showNeighboringCentury: showNeighboringCentury\n          }, commonProps));\n        }\n\n      case 'decade':\n        {\n          return _jsx(DecadeView, __assign({\n            formatYear: formatYear,\n            showNeighboringDecade: showNeighboringDecade\n          }, commonProps));\n        }\n\n      case 'year':\n        {\n          return _jsx(YearView, __assign({\n            formatMonth: formatMonth,\n            formatMonthYear: formatMonthYear\n          }, commonProps));\n        }\n\n      case 'month':\n        {\n          return _jsx(MonthView, __assign({\n            calendarType: calendarType,\n            formatDay: formatDay,\n            formatLongDate: formatLongDate,\n            formatShortWeekday: formatShortWeekday,\n            formatWeekday: formatWeekday,\n            onClickWeekNumber: onClickWeekNumber,\n            onMouseLeave: selectRange ? onMouseLeave : undefined,\n            showFixedNumberOfWeeks: typeof showFixedNumberOfWeeks !== 'undefined' ? showFixedNumberOfWeeks : showDoubleView,\n            showNeighboringMonth: showNeighboringMonth,\n            showWeekNumbers: showWeekNumbers\n          }, commonProps));\n        }\n\n      default:\n        throw new Error(\"Invalid view: \".concat(view, \".\"));\n    }\n  }\n\n  function renderNavigation() {\n    if (!showNavigation) {\n      return null;\n    }\n\n    return _jsx(Navigation, {\n      activeStartDate: activeStartDate,\n      drillUp: drillUp,\n      formatMonthYear: formatMonthYear,\n      formatYear: formatYear,\n      locale: locale,\n      maxDate: maxDate,\n      minDate: minDate,\n      navigationAriaLabel: navigationAriaLabel,\n      navigationAriaLive: navigationAriaLive,\n      navigationLabel: navigationLabel,\n      next2AriaLabel: next2AriaLabel,\n      next2Label: next2Label,\n      nextAriaLabel: nextAriaLabel,\n      nextLabel: nextLabel,\n      prev2AriaLabel: prev2AriaLabel,\n      prev2Label: prev2Label,\n      prevAriaLabel: prevAriaLabel,\n      prevLabel: prevLabel,\n      setActiveStartDate: setActiveStartDate,\n      showDoubleView: showDoubleView,\n      view: view,\n      views: views\n    });\n  }\n\n  var valueArray = Array.isArray(value) ? value : [value];\n  return _jsxs(\"div\", {\n    className: clsx(baseClassName, selectRange && valueArray.length === 1 && \"\".concat(baseClassName, \"--selectRange\"), showDoubleView && \"\".concat(baseClassName, \"--doubleView\"), className),\n    ref: inputRef,\n    children: [renderNavigation(), _jsxs(\"div\", {\n      className: \"\".concat(baseClassName, \"__viewContainer\"),\n      onBlur: selectRange ? onMouseLeave : undefined,\n      onMouseLeave: selectRange ? onMouseLeave : undefined,\n      children: [renderContent(), showDoubleView ? renderContent(true) : null]\n    })]\n  });\n});\nexport default Calendar;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","jsx","_jsx","jsxs","_jsxs","forwardRef","useCallback","useImperativeHandle","useState","clsx","Navigation","CenturyView","DecadeView","YearView","MonthView","getBegin","getBeginNext","getEnd","getValueRange","between","baseClassName","allViews","allValueTypes","defaultMinDate","Date","setFullYear","setHours","defaultMaxDate","toDate","value","getLimitedViews","minDetail","maxDetail","slice","indexOf","isViewAllowed","view","views","getView","getValueType","index","getValue","rawValue","Array","isArray","valueDate","isNaN","getTime","Error","concat","getDetailValue","_a","minDate","maxDate","valuePiece","valueType","detailValueFrom","getDetailValueFrom","args","getDetailValueTo","getDetailValueArray","map","fn","getActiveStartDate","rangeType","valueFrom","getInitialActiveStartDate","activeStartDate","defaultActiveStartDate","defaultValue","defaultView","getIsSingleValue","areDatesEqual","date1","date2","Calendar","props","ref","activeStartDateProps","allowPartialRange","calendarType","className","formatDay","formatLongDate","formatMonth","formatMonthYear","formatShortWeekday","formatWeekday","formatYear","goToRangeStartOnSelect","inputRef","locale","_b","_c","_d","_e","navigationAriaLabel","navigationAriaLive","navigationLabel","next2AriaLabel","next2Label","nextAriaLabel","nextLabel","onActiveStartDateChange","onChangeProps","onChange","onClickDay","onClickDecade","onClickMonth","onClickWeekNumber","onClickYear","onDrillDown","onDrillUp","onViewChange","prev2AriaLabel","prev2Label","prevAriaLabel","prevLabel","_f","returnValue","selectRange","showDoubleView","showFixedNumberOfWeeks","_g","showNavigation","showNeighboringCentury","showNeighboringDecade","_h","showNeighboringMonth","showWeekNumbers","tileClassName","tileContent","tileDisabled","valueProps","viewProps","_j","activeStartDateState","setActiveStartDateState","_k","hoverState","setHoverState","_l","el","undefined","valueState","setValueState","_m","viewState","setViewState","hover","drillDownAvailable","drillUpAvailable","getProcessedValue","processFunction","setActiveStartDate","nextActiveStartDate","action","onClickTile","event","callback","drillDown","nextView","drillUp","rawNextValue","previousValue","isFirstValueInRange","nextValue","persist","isSingleValue","onMouseOver","nextHover","onMouseLeave","renderContent","next","currentActiveStartDate","onClick","commonProps","renderNavigation","valueArray","children","onBlur"],"sources":["C:/Users/kb/Downloads/billBoard/billboard/node_modules/react-calendar/dist/esm/Calendar.js"],"sourcesContent":["'use client';\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { forwardRef, useCallback, useImperativeHandle, useState } from 'react';\nimport clsx from 'clsx';\nimport Navigation from './Calendar/Navigation.js';\nimport CenturyView from './CenturyView.js';\nimport DecadeView from './DecadeView.js';\nimport YearView from './YearView.js';\nimport MonthView from './MonthView.js';\nimport { getBegin, getBeginNext, getEnd, getValueRange } from './shared/dates.js';\nimport { between } from './shared/utils.js';\nvar baseClassName = 'react-calendar';\nvar allViews = ['century', 'decade', 'year', 'month'];\nvar allValueTypes = ['decade', 'year', 'month', 'day'];\nvar defaultMinDate = new Date();\ndefaultMinDate.setFullYear(1, 0, 1);\ndefaultMinDate.setHours(0, 0, 0, 0);\nvar defaultMaxDate = new Date(8.64e15);\nfunction toDate(value) {\n    if (value instanceof Date) {\n        return value;\n    }\n    return new Date(value);\n}\n/**\n * Returns views array with disallowed values cut off.\n */\nfunction getLimitedViews(minDetail, maxDetail) {\n    return allViews.slice(allViews.indexOf(minDetail), allViews.indexOf(maxDetail) + 1);\n}\n/**\n * Determines whether a given view is allowed with currently applied settings.\n */\nfunction isViewAllowed(view, minDetail, maxDetail) {\n    var views = getLimitedViews(minDetail, maxDetail);\n    return views.indexOf(view) !== -1;\n}\n/**\n * Gets either provided view if allowed by minDetail and maxDetail, or gets\n * the default view if not allowed.\n */\nfunction getView(view, minDetail, maxDetail) {\n    if (!view) {\n        return maxDetail;\n    }\n    if (isViewAllowed(view, minDetail, maxDetail)) {\n        return view;\n    }\n    return maxDetail;\n}\n/**\n * Returns value type that can be returned with currently applied settings.\n */\nfunction getValueType(view) {\n    var index = allViews.indexOf(view);\n    return allValueTypes[index];\n}\nfunction getValue(value, index) {\n    var rawValue = Array.isArray(value) ? value[index] : value;\n    if (!rawValue) {\n        return null;\n    }\n    var valueDate = toDate(rawValue);\n    if (isNaN(valueDate.getTime())) {\n        throw new Error(\"Invalid date: \".concat(value));\n    }\n    return valueDate;\n}\nfunction getDetailValue(_a, index) {\n    var value = _a.value, minDate = _a.minDate, maxDate = _a.maxDate, maxDetail = _a.maxDetail;\n    var valuePiece = getValue(value, index);\n    if (!valuePiece) {\n        return null;\n    }\n    var valueType = getValueType(maxDetail);\n    var detailValueFrom = (function () {\n        switch (index) {\n            case 0:\n                return getBegin(valueType, valuePiece);\n            case 1:\n                return getEnd(valueType, valuePiece);\n            default:\n                throw new Error(\"Invalid index value: \".concat(index));\n        }\n    })();\n    return between(detailValueFrom, minDate, maxDate);\n}\nvar getDetailValueFrom = function (args) { return getDetailValue(args, 0); };\nvar getDetailValueTo = function (args) { return getDetailValue(args, 1); };\nvar getDetailValueArray = function (args) {\n    return [getDetailValueFrom, getDetailValueTo].map(function (fn) { return fn(args); });\n};\nfunction getActiveStartDate(_a) {\n    var maxDate = _a.maxDate, maxDetail = _a.maxDetail, minDate = _a.minDate, minDetail = _a.minDetail, value = _a.value, view = _a.view;\n    var rangeType = getView(view, minDetail, maxDetail);\n    var valueFrom = getDetailValueFrom({\n        value: value,\n        minDate: minDate,\n        maxDate: maxDate,\n        maxDetail: maxDetail,\n    }) || new Date();\n    return getBegin(rangeType, valueFrom);\n}\nfunction getInitialActiveStartDate(_a) {\n    var activeStartDate = _a.activeStartDate, defaultActiveStartDate = _a.defaultActiveStartDate, defaultValue = _a.defaultValue, defaultView = _a.defaultView, maxDate = _a.maxDate, maxDetail = _a.maxDetail, minDate = _a.minDate, minDetail = _a.minDetail, value = _a.value, view = _a.view;\n    var rangeType = getView(view, minDetail, maxDetail);\n    var valueFrom = activeStartDate || defaultActiveStartDate;\n    if (valueFrom) {\n        return getBegin(rangeType, valueFrom);\n    }\n    return getActiveStartDate({\n        maxDate: maxDate,\n        maxDetail: maxDetail,\n        minDate: minDate,\n        minDetail: minDetail,\n        value: value || defaultValue,\n        view: view || defaultView,\n    });\n}\nfunction getIsSingleValue(value) {\n    return value && (!Array.isArray(value) || value.length === 1);\n}\nfunction areDatesEqual(date1, date2) {\n    return date1 instanceof Date && date2 instanceof Date && date1.getTime() === date2.getTime();\n}\nvar Calendar = forwardRef(function Calendar(props, ref) {\n    var activeStartDateProps = props.activeStartDate, allowPartialRange = props.allowPartialRange, calendarType = props.calendarType, className = props.className, defaultActiveStartDate = props.defaultActiveStartDate, defaultValue = props.defaultValue, defaultView = props.defaultView, formatDay = props.formatDay, formatLongDate = props.formatLongDate, formatMonth = props.formatMonth, formatMonthYear = props.formatMonthYear, formatShortWeekday = props.formatShortWeekday, formatWeekday = props.formatWeekday, formatYear = props.formatYear, _a = props.goToRangeStartOnSelect, goToRangeStartOnSelect = _a === void 0 ? true : _a, inputRef = props.inputRef, locale = props.locale, _b = props.maxDate, maxDate = _b === void 0 ? defaultMaxDate : _b, _c = props.maxDetail, maxDetail = _c === void 0 ? 'month' : _c, _d = props.minDate, minDate = _d === void 0 ? defaultMinDate : _d, _e = props.minDetail, minDetail = _e === void 0 ? 'century' : _e, navigationAriaLabel = props.navigationAriaLabel, navigationAriaLive = props.navigationAriaLive, navigationLabel = props.navigationLabel, next2AriaLabel = props.next2AriaLabel, next2Label = props.next2Label, nextAriaLabel = props.nextAriaLabel, nextLabel = props.nextLabel, onActiveStartDateChange = props.onActiveStartDateChange, onChangeProps = props.onChange, onClickDay = props.onClickDay, onClickDecade = props.onClickDecade, onClickMonth = props.onClickMonth, onClickWeekNumber = props.onClickWeekNumber, onClickYear = props.onClickYear, onDrillDown = props.onDrillDown, onDrillUp = props.onDrillUp, onViewChange = props.onViewChange, prev2AriaLabel = props.prev2AriaLabel, prev2Label = props.prev2Label, prevAriaLabel = props.prevAriaLabel, prevLabel = props.prevLabel, _f = props.returnValue, returnValue = _f === void 0 ? 'start' : _f, selectRange = props.selectRange, showDoubleView = props.showDoubleView, showFixedNumberOfWeeks = props.showFixedNumberOfWeeks, _g = props.showNavigation, showNavigation = _g === void 0 ? true : _g, showNeighboringCentury = props.showNeighboringCentury, showNeighboringDecade = props.showNeighboringDecade, _h = props.showNeighboringMonth, showNeighboringMonth = _h === void 0 ? true : _h, showWeekNumbers = props.showWeekNumbers, tileClassName = props.tileClassName, tileContent = props.tileContent, tileDisabled = props.tileDisabled, valueProps = props.value, viewProps = props.view;\n    var _j = useState(defaultActiveStartDate), activeStartDateState = _j[0], setActiveStartDateState = _j[1];\n    var _k = useState(null), hoverState = _k[0], setHoverState = _k[1];\n    var _l = useState(Array.isArray(defaultValue)\n        ? defaultValue.map(function (el) { return (el !== null ? toDate(el) : null); })\n        : defaultValue !== null && defaultValue !== undefined\n            ? toDate(defaultValue)\n            : null), valueState = _l[0], setValueState = _l[1];\n    var _m = useState(defaultView), viewState = _m[0], setViewState = _m[1];\n    var activeStartDate = activeStartDateProps ||\n        activeStartDateState ||\n        getInitialActiveStartDate({\n            activeStartDate: activeStartDateProps,\n            defaultActiveStartDate: defaultActiveStartDate,\n            defaultValue: defaultValue,\n            defaultView: defaultView,\n            maxDate: maxDate,\n            maxDetail: maxDetail,\n            minDate: minDate,\n            minDetail: minDetail,\n            value: valueProps,\n            view: viewProps,\n        });\n    var value = (function () {\n        var rawValue = (function () {\n            // In the middle of range selection, use value from state\n            if (selectRange && getIsSingleValue(valueState)) {\n                return valueState;\n            }\n            return valueProps !== undefined ? valueProps : valueState;\n        })();\n        if (!rawValue) {\n            return null;\n        }\n        return Array.isArray(rawValue)\n            ? rawValue.map(function (el) { return (el !== null ? toDate(el) : null); })\n            : rawValue !== null\n                ? toDate(rawValue)\n                : null;\n    })();\n    var valueType = getValueType(maxDetail);\n    var view = getView(viewProps || viewState, minDetail, maxDetail);\n    var views = getLimitedViews(minDetail, maxDetail);\n    var hover = selectRange ? hoverState : null;\n    var drillDownAvailable = views.indexOf(view) < views.length - 1;\n    var drillUpAvailable = views.indexOf(view) > 0;\n    var getProcessedValue = useCallback(function (value) {\n        var processFunction = (function () {\n            switch (returnValue) {\n                case 'start':\n                    return getDetailValueFrom;\n                case 'end':\n                    return getDetailValueTo;\n                case 'range':\n                    return getDetailValueArray;\n                default:\n                    throw new Error('Invalid returnValue.');\n            }\n        })();\n        return processFunction({\n            maxDate: maxDate,\n            maxDetail: maxDetail,\n            minDate: minDate,\n            value: value,\n        });\n    }, [maxDate, maxDetail, minDate, returnValue]);\n    var setActiveStartDate = useCallback(function (nextActiveStartDate, action) {\n        setActiveStartDateState(nextActiveStartDate);\n        var args = {\n            action: action,\n            activeStartDate: nextActiveStartDate,\n            value: value,\n            view: view,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n    }, [activeStartDate, onActiveStartDateChange, value, view]);\n    var onClickTile = useCallback(function (value, event) {\n        var callback = (function () {\n            switch (view) {\n                case 'century':\n                    return onClickDecade;\n                case 'decade':\n                    return onClickYear;\n                case 'year':\n                    return onClickMonth;\n                case 'month':\n                    return onClickDay;\n                default:\n                    throw new Error(\"Invalid view: \".concat(view, \".\"));\n            }\n        })();\n        if (callback)\n            callback(value, event);\n    }, [onClickDay, onClickDecade, onClickMonth, onClickYear, view]);\n    var drillDown = useCallback(function (nextActiveStartDate, event) {\n        if (!drillDownAvailable) {\n            return;\n        }\n        onClickTile(nextActiveStartDate, event);\n        var nextView = views[views.indexOf(view) + 1];\n        if (!nextView) {\n            throw new Error('Attempted to drill down from the lowest view.');\n        }\n        setActiveStartDateState(nextActiveStartDate);\n        setViewState(nextView);\n        var args = {\n            action: 'drillDown',\n            activeStartDate: nextActiveStartDate,\n            value: value,\n            view: nextView,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n        if (onViewChange && view !== nextView) {\n            onViewChange(args);\n        }\n        if (onDrillDown) {\n            onDrillDown(args);\n        }\n    }, [\n        activeStartDate,\n        drillDownAvailable,\n        onActiveStartDateChange,\n        onClickTile,\n        onDrillDown,\n        onViewChange,\n        value,\n        view,\n        views,\n    ]);\n    var drillUp = useCallback(function () {\n        if (!drillUpAvailable) {\n            return;\n        }\n        var nextView = views[views.indexOf(view) - 1];\n        if (!nextView) {\n            throw new Error('Attempted to drill up from the highest view.');\n        }\n        var nextActiveStartDate = getBegin(nextView, activeStartDate);\n        setActiveStartDateState(nextActiveStartDate);\n        setViewState(nextView);\n        var args = {\n            action: 'drillUp',\n            activeStartDate: nextActiveStartDate,\n            value: value,\n            view: nextView,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n        if (onViewChange && view !== nextView) {\n            onViewChange(args);\n        }\n        if (onDrillUp) {\n            onDrillUp(args);\n        }\n    }, [\n        activeStartDate,\n        drillUpAvailable,\n        onActiveStartDateChange,\n        onDrillUp,\n        onViewChange,\n        value,\n        view,\n        views,\n    ]);\n    var onChange = useCallback(function (rawNextValue, event) {\n        var previousValue = value;\n        onClickTile(rawNextValue, event);\n        var isFirstValueInRange = selectRange && !getIsSingleValue(previousValue);\n        var nextValue;\n        if (selectRange) {\n            // Range selection turned on\n            if (isFirstValueInRange) {\n                // Value has 0 or 2 elements - either way we're starting a new array\n                // First value\n                nextValue = getBegin(valueType, rawNextValue);\n            }\n            else {\n                if (!previousValue) {\n                    throw new Error('previousValue is required');\n                }\n                if (Array.isArray(previousValue)) {\n                    throw new Error('previousValue must not be an array');\n                }\n                // Second value\n                nextValue = getValueRange(valueType, previousValue, rawNextValue);\n            }\n        }\n        else {\n            // Range selection turned off\n            nextValue = getProcessedValue(rawNextValue);\n        }\n        var nextActiveStartDate = \n        // Range selection turned off\n        !selectRange ||\n            // Range selection turned on, first value\n            isFirstValueInRange ||\n            // Range selection turned on, second value, goToRangeStartOnSelect toggled on\n            goToRangeStartOnSelect\n            ? getActiveStartDate({\n                maxDate: maxDate,\n                maxDetail: maxDetail,\n                minDate: minDate,\n                minDetail: minDetail,\n                value: nextValue,\n                view: view,\n            })\n            : null;\n        event.persist();\n        setActiveStartDateState(nextActiveStartDate);\n        setValueState(nextValue);\n        var args = {\n            action: 'onChange',\n            activeStartDate: nextActiveStartDate,\n            value: nextValue,\n            view: view,\n        };\n        if (onActiveStartDateChange && !areDatesEqual(activeStartDate, nextActiveStartDate)) {\n            onActiveStartDateChange(args);\n        }\n        if (onChangeProps) {\n            if (selectRange) {\n                var isSingleValue = getIsSingleValue(nextValue);\n                if (!isSingleValue) {\n                    onChangeProps(nextValue || null, event);\n                }\n                else if (allowPartialRange) {\n                    if (Array.isArray(nextValue)) {\n                        throw new Error('value must not be an array');\n                    }\n                    onChangeProps([nextValue || null, null], event);\n                }\n            }\n            else {\n                onChangeProps(nextValue || null, event);\n            }\n        }\n    }, [\n        activeStartDate,\n        allowPartialRange,\n        getProcessedValue,\n        goToRangeStartOnSelect,\n        maxDate,\n        maxDetail,\n        minDate,\n        minDetail,\n        onActiveStartDateChange,\n        onChangeProps,\n        onClickTile,\n        selectRange,\n        value,\n        valueType,\n        view,\n    ]);\n    function onMouseOver(nextHover) {\n        setHoverState(nextHover);\n    }\n    function onMouseLeave() {\n        setHoverState(null);\n    }\n    useImperativeHandle(ref, function () { return ({\n        activeStartDate: activeStartDate,\n        drillDown: drillDown,\n        drillUp: drillUp,\n        onChange: onChange,\n        setActiveStartDate: setActiveStartDate,\n        value: value,\n        view: view,\n    }); }, [activeStartDate, drillDown, drillUp, onChange, setActiveStartDate, value, view]);\n    function renderContent(next) {\n        var currentActiveStartDate = next\n            ? getBeginNext(view, activeStartDate)\n            : getBegin(view, activeStartDate);\n        var onClick = drillDownAvailable ? drillDown : onChange;\n        var commonProps = {\n            activeStartDate: currentActiveStartDate,\n            hover: hover,\n            locale: locale,\n            maxDate: maxDate,\n            minDate: minDate,\n            onClick: onClick,\n            onMouseOver: selectRange ? onMouseOver : undefined,\n            tileClassName: tileClassName,\n            tileContent: tileContent,\n            tileDisabled: tileDisabled,\n            value: value,\n            valueType: valueType,\n        };\n        switch (view) {\n            case 'century': {\n                return (_jsx(CenturyView, __assign({ formatYear: formatYear, showNeighboringCentury: showNeighboringCentury }, commonProps)));\n            }\n            case 'decade': {\n                return (_jsx(DecadeView, __assign({ formatYear: formatYear, showNeighboringDecade: showNeighboringDecade }, commonProps)));\n            }\n            case 'year': {\n                return (_jsx(YearView, __assign({ formatMonth: formatMonth, formatMonthYear: formatMonthYear }, commonProps)));\n            }\n            case 'month': {\n                return (_jsx(MonthView, __assign({ calendarType: calendarType, formatDay: formatDay, formatLongDate: formatLongDate, formatShortWeekday: formatShortWeekday, formatWeekday: formatWeekday, onClickWeekNumber: onClickWeekNumber, onMouseLeave: selectRange ? onMouseLeave : undefined, showFixedNumberOfWeeks: typeof showFixedNumberOfWeeks !== 'undefined'\n                        ? showFixedNumberOfWeeks\n                        : showDoubleView, showNeighboringMonth: showNeighboringMonth, showWeekNumbers: showWeekNumbers }, commonProps)));\n            }\n            default:\n                throw new Error(\"Invalid view: \".concat(view, \".\"));\n        }\n    }\n    function renderNavigation() {\n        if (!showNavigation) {\n            return null;\n        }\n        return (_jsx(Navigation, { activeStartDate: activeStartDate, drillUp: drillUp, formatMonthYear: formatMonthYear, formatYear: formatYear, locale: locale, maxDate: maxDate, minDate: minDate, navigationAriaLabel: navigationAriaLabel, navigationAriaLive: navigationAriaLive, navigationLabel: navigationLabel, next2AriaLabel: next2AriaLabel, next2Label: next2Label, nextAriaLabel: nextAriaLabel, nextLabel: nextLabel, prev2AriaLabel: prev2AriaLabel, prev2Label: prev2Label, prevAriaLabel: prevAriaLabel, prevLabel: prevLabel, setActiveStartDate: setActiveStartDate, showDoubleView: showDoubleView, view: view, views: views }));\n    }\n    var valueArray = Array.isArray(value) ? value : [value];\n    return (_jsxs(\"div\", { className: clsx(baseClassName, selectRange && valueArray.length === 1 && \"\".concat(baseClassName, \"--selectRange\"), showDoubleView && \"\".concat(baseClassName, \"--doubleView\"), className), ref: inputRef, children: [renderNavigation(), _jsxs(\"div\", { className: \"\".concat(baseClassName, \"__viewContainer\"), onBlur: selectRange ? onMouseLeave : undefined, onMouseLeave: selectRange ? onMouseLeave : undefined, children: [renderContent(), showDoubleView ? renderContent(true) : null] })] }));\n});\nexport default Calendar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}